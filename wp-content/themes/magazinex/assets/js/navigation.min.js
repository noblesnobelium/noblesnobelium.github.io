window.mzxNavigation=new function(){const n=this;this.mobileMenu=document.getElementById("mzx-toggle-menu"),this.primaryMenu=document.getElementById("mzx-primary-nav"),this.toggleMenu=document.getElementById("mzx-mobile-nav"),this.toggleBtn=this.mobileMenu?this.mobileMenu.getElementsByClassName("mzx-menu-toggle")[0]:null,this.mobileSubMenu=this.toggleMenu?this.toggleMenu.querySelectorAll(".sub-menu"):null,this.subMenu=this.primaryMenu?this.primaryMenu.querySelectorAll(".sub-menu"):null,this.linksWithChildren=this.primaryMenu?this.primaryMenu.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a"):null,this.links=this.primaryMenu?this.primaryMenu.getElementsByTagName("a"):null,this.secondaryMenu=document.getElementById("mzx-drawer-box"),this.openSecondaryMenu=document.querySelector(".mzx-drawer-toggle"),this.closeSecondaryMenu=document.querySelector(".close-secondary-menu"),this.toggleSecondaryBtn=document.getElementById("mzx-secondary-menu"),this.secondarySubMenu=this.toggleSecondaryBtn?this.toggleSecondaryBtn.querySelectorAll(".sub-menu"):null,this.secondaryMenuOverlay=document.getElementById("mzx-secondary-nav-overlay"),this.slideUp=(e,t=300)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},this.slideDown=(e,t=500)=>{e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;var o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},this.slideToggle=(e,t=300)=>"none"===window.getComputedStyle(e).display?n.slideDown(e,t):n.slideUp(e,t),this.toggleBtnIconTransition=function(e){e=e.getElementsByTagName("span");Array.from(e).forEach(function(e,t){e.classList.toggle("active")})},this.trapFocus=function(r,e=0){r.addEventListener("keydown",t=>{if("true"===r.querySelector(".mzx-menu-toggle").getAttribute("aria-expanded")){let e;const n=Array.prototype.slice.call(r.querySelectorAll('a, button, input[type="search"], span[tabindex="0"]'));e=n.filter(function(e){return null!==e.closest(".mzx-mobile-nav")&&null!==e.offsetParent}),e.unshift(document.querySelector(".mzx-menu-toggle"));const o=e[0],i=e[e.length-1];"Tab"===t.key&&(t.shiftKey?document.activeElement===o&&(t.preventDefault(),i.focus()):document.activeElement===i&&(t.preventDefault(),o.focus()))}})},this.toggleMobileNavigation=function(e){e.preventDefault(),n.toggleBtnIconTransition(this),n.toggleMenu.classList.toggle("mzx-open"),n.slideToggle(n.toggleMenu,300),"true"===n.toggleBtn.getAttribute("aria-expanded")?n.toggleBtn.setAttribute("aria-expanded","false"):(n.toggleBtn.setAttribute("aria-expanded","true"),n.trapFocus(n.mobileMenu,0))},this.toggleSecondaryNavigation=function(e){e.preventDefault(),n.secondaryMenu.classList.toggle("mzx-open"),"true"===n.closeSecondaryMenu.getAttribute("aria-expanded")?n.closeSecondaryMenu.setAttribute("aria-expanded","false"):n.closeSecondaryMenu.setAttribute("aria-expanded","true")},this.toggleTertiaryNavigation=function(e){e.preventDefault(),n.toggleTertiaryMenu.classList.toggle("mzx-open")},this.toggleSubMenu=function(e){e.preventDefault(),this.classList.toggle("active");e=e.currentTarget.parentNode.querySelector(".sub-menu");n.slideToggle(e)},this.toggleFocus=function(){if("focus"===event.type||"blur"===event.type){let e=this;for(;!e.classList.contains("nav-menu");)"li"===e.tagName.toLowerCase()&&e.classList.toggle("focus"),e=e.parentNode}if("touchstart"===event.type){const e=this.parentNode;event.preventDefault();for(const t of e.parentNode.children)e!==t&&t.classList.remove("focus");e.classList.toggle("focus")}},this.init=function(){if(n.primaryMenu){n.primaryMenu.classList.contains("nav-menu")||n.primaryMenu.classList.add("nav-menu"),n.toggleBtn&&n.toggleBtn.addEventListener("click",n.toggleMobileNavigation),n.openSecondaryMenu&&(n.openSecondaryMenu.addEventListener("click",this.toggleSecondaryNavigation),n.closeSecondaryMenu.addEventListener("click",this.toggleSecondaryNavigation)),n.showTertiaryMenu&&n.showTertiaryMenu.addEventListener("click",this.toggleTertiaryNavigation),null!==n.mobileSubMenu&&n.mobileSubMenu.forEach(function(e,t){e.parentNode.querySelector(".mzx-submenu-toggle").addEventListener("click",n.toggleSubMenu)}),null!==n.mobileSubMenu&&n.mobileSubMenu.forEach(function(e,t){e.parentNode.querySelector(".mzx-submenu-toggle").addEventListener("keypress",n.toggleSubMenu)}),null!==n.secondarySubMenu&&n.secondarySubMenu.forEach(function(e,t){e.parentNode.querySelector(".mzx-submenu-toggle").addEventListener("click",n.toggleSubMenu)});for(const e of this.links)e.addEventListener("focus",this.toggleFocus,!0),e.addEventListener("blur",this.toggleFocus,!0);for(const t of this.linksWithChildren)t.addEventListener("touchstart",this.toggleFocus,{passive:!0})}else n.toggleBtn.style.display="none"},this.init()};